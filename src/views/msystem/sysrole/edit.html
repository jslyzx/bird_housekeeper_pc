
<link href="../../../../Content/hsc-form.css" rel="stylesheet" />
<style>
    #sysuer-add-view  .layui-table-cell{
    overflow:visible !important;
 }
 #sysuer-add-view  thead tr{height: 45px;}
#sysuer-add-view tbody tr{height: 55px;}
 .layui-form-select ul{
     z-index:999999
 }
 #wrap-user thead tr{height: 45px;}
#wrap-user tbody tr{height: 55px;}
.layui-tab-content *{overflow:visible!important}
.layui-form-select dl{overflow-y:auto!important}
</style>
<script>
     var sysuserdata=[];
      function LoadData(id,tableid,layerindex){
        layui.use(['laypage', 'layer', 'laytpl', 'jquery', 'form'], function () {
            var laytpl = layui.laytpl;
            var doc = layui.htcsLG;
            var $ = layui.jquery;
            var form = layui.form;
            var table=layui.table;
            var data = { "Id": id };
            var url =  "api/rolr/Queryrole";
            doc.objectQuery(url, data, function (result) {   
                var realdata = result.numberData;
                var getTpl = sysuereditscript.innerHTML,
                view = document.getElementById('sysuer-edit-view');
                laytpl(getTpl).render(realdata, function (html) {
                    view.innerHTML = html;
                });  
            form.on('submit(save)', function (data) {
            var datafield=data.field;
            datafield.Id=id;
            var tjdata =datafield;
            var saveoption={
            url:'api/Role/save',
            data:tjdata,
            tableid:tableid,
            callBack:function(resultData){
            if (resultData.Code == 0) {
                layer.close(layerindex);
            }
        }
       }
      doc.Submit(saveoption);
      return false;
});
            })
           
});
}
</script>
<body>
        <script type="text/html" template >
            {{#  LoadData(d.params.id,d.params.tableid,d.params.layerindex)}}
        </script>
        <script id="sysuereditscript" type="text/html">
        <div class="form-wrapper">
                <form class="layui-form  layui-form-pane hcs-form form-panel" action="">            
                        <div class="form-content">
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">角色名称</label>
                                <div class="layui-input-inline" style="width: 200px;">
                                    <input type="tel" lay-verify="required" name="RoleName" value="{{d.RoleName}}" autocomplete="off" class="layui-input" id="RoleName">
                                </div>
                                <label class="layui-form-label">描述</label>
                                <div class="layui-input-inline" style="width: 200px;">
                                        <input type="tel" lay-verify="required" name="RoleDesc" value="{{d.RoleDesc}}" autocomplete="off" class="layui-input" id="RoleDesc">
                                    </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-bottom">
                            <div class="form-wrap">
                                <button class="layui-btn layui-btn layui-btn-primary" id="cancel" lay-filter="cancel" lay-submit="">取消</button>
                                <button class="layui-btn" id="save" lay-filter="save" lay-submit="">保存</button>
                    </div>
                  </div>
                </form>
        </div>
    </script>
    <div id="sysuer-edit-view" class="child-view form-wrapper">
        </div>
</body>