<!DOCTYPE html>
<html>
<link href="../../../../Content/hsc-form.css" rel="stylesheet" />
<style>
    .child-view  .layui-table-cell{
    overflow:visible !important;
 }
 .child-view  thead tr{height: 45px;}
.child-view tbody tr{height: 55px;}
 .layui-form-select ul{
     z-index:999999
 }

    </style>

<body>
    <script type="text/html" template>
        {{#  LoadData(d.params.id,d.params.tableid,d.params.layerindex)}}
        </script>
    <div id="department-edit-view" class="child-view form-wrapper">
        <form class="layui-form  layui-form-pane hcs-form form-panel" action="">
            <div class="form-content">
                <div class="layui-form-item">
                    <div class="layui-inline">
                        <label class="layui-form-label">部门名称</label>
                        <div class="layui-input-inline" style="width: 200px;">
                            <input type="tel" name="name" autocomplete="off" class="layui-input">
                        </div>
                        <label class="layui-form-label">所属部门</label>
                        <div class="layui-input-inline" style="width: 200px;">
                            <input type="text" name="parentid" lay-verify="required" autocomplete="off" class="layui-input" id="tree" lay-filter="tree">
                        </div>
                    </div>
                </div>
                <div class="layui-form-item">
                    <div class="layui-inline">
                        <label class="layui-form-label">部门电话</label>
                        <div class="layui-input-inline" style="width: 200px;">
                            <input type="text" name="phone" autocomplete="off" class="layui-input" id="name">
                        </div>
                        <label class="layui-form-label">所属地址</label>
                        <div class="layui-input-inline" style="width: 200px;">
                            <input type="text" name="adress" lay-verify="required" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-bottom">
                <div class="form-wrap">
                    <button class="layui-btn layui-btn layui-btn-primary" id="cancelbtn" lay-submit="">取消</button>
                    <button class="layui-btn" id="save" lay-filter="save" lay-submit="">保存</button>
                </div>
            </div>
        </form>
    </div>
    <script>
    function LoadData(id, tableid, layerindex) {
        layui.use(['treeSelect', 'laypage', 'layer', 'laytpl', 'jquery', 'form', 'setter'], function() {
            var laytpl = layui.laytpl;
            var doc = layui.htcsLG;
            var treeSelect = layui.treeSelect;
            var deletebilllist = [];
            var table = layui.table;
            var setter = layui.setter;
            var url = "api/Sysuser/QueryUser";

            var data = { "Id": id };
            var allresult = [];
            var $ = layui.jquery,
                form = layui.form;

            doc.objectQuery('api/Sysrole/Querydepartment', {
                Id: -1
            }, function(data) {
            	var list;
                treeSelect.render({
                    elem: '#tree',
                    // 数据
                    data: list,
                    // 占位符
                    placeholder: '修改默认提示信息',
                    // 是否开启搜索功能：true/false，默认false
                    search: true,
                    // 点击回调
                    click: function(d) {
                        console.log(d);
                    },
                    // 加载完成后的回调函数
                    success: function(d) {
                        console.log(d);
                        //                选中节点，根据id筛选
                        //                treeSelect.checkNode('tree', 3);

                        //                获取zTree对象，可以调用zTree方法
                        //                var treeObj = treeSelect.zTree('tree');
                        //                console.log(treeObj);

                        //                刷新树结构
                        //                treeSelect.refresh();
                    }
                });
            });
        });
    }
    </script>
</body>

</html>